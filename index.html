<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>d4rk store</title>
<style>
:root{
  --bg1:#0a0a0a;
  --bg2:#111318;
  --card:#151821;
  --muted:#e9eef5;
  --text:#e9eef5;
  --brand:#baff3b;
  --danger:#ff6b6b;
  --shadow:0 10px 25px rgba(0,0,0,.35);
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;min-height:100vh;display:flex;flex-direction:column;
  background:url('background.jpg') center/cover no-repeat fixed;
  color:var(--text);
  font-family:"Noto Kufi Arabic",Arial,sans-serif;
}
header{
  position:sticky;top:0;z-index:50;
  background:rgba(12,12,16,.8);
  backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.06)
}
.nav{display:flex;align-items:center;gap:14px;padding:14px}
.logo img{height:40px}
.search{flex:1;display:flex;gap:10px}
.input,.select,.btn{
  border:1px solid rgba(255,255,255,.1);
  background:#101521;color:var(--text);
  padding:12px 14px;border-radius:12px
}
.btn{cursor:pointer}
.btn.brand{background:var(--brand);color:#000;font-weight:700}
.cart-btn{position:relative}
.badge{
  position:absolute;top:-6px;left:-6px;
  background:var(--danger);color:#fff;
  border-radius:999px;min-width:22px;height:22px;
  display:grid;place-items:center;font-size:12px;
  padding:0 6px;border:2px solid var(--bg1)
}
.chips{display:flex;gap:10px;margin:14px 0;flex-wrap:wrap}
.chip{
  padding:8px 12px;border:1px solid rgba(255,255,255,.1);
  border-radius:999px;cursor:pointer;font-size:14px;color:var(--muted)
}
.chip.active{background:rgba(255,255,255,.15);color:var(--text)}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin:20px 0;flex:1}
.card{background:var(--card);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);cursor:pointer}
.media{aspect-ratio:4/3;overflow:hidden}
.media img{width:100%;height:100%;object-fit:cover}
.content{padding:14px}
.row{display:flex;justify-content:space-between;align-items:center;gap:8px}
.title{font-weight:700}
.price{font-weight:800}
.old{text-decoration:line-through;opacity:.6;margin-inline-start:8px}
.drawer{position:fixed;inset:0;pointer-events:none}
.drawer .backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5);opacity:0;transition:.25s}
.drawer .panel{
  position:absolute;inset-block:0;left:0;width:min(400px,100%);
  background:#0e1322;transform:translateX(-105%);
  transition:.3s;display:flex;flex-direction:column
}
.drawer.open{pointer-events:auto}
.drawer.open .backdrop{opacity:1}
.drawer.open .panel{transform:none}
.cart-list{padding:14px;display:flex;flex-direction:column;gap:12px;overflow:auto}
.cart-item{display:flex;gap:10px;align-items:center;background:rgba(255,255,255,.05);padding:8px;border-radius:12px}
.cart-item img{width:60px;height:60px;object-fit:cover;border-radius:8px}
.totals{padding:14px;border-top:1px solid rgba(255,255,255,.1);}
.modal{position:fixed;inset:0;display:none;place-items:center;z-index:100}
.modal.open{display:grid}
.modal .sheet{background:#0f1526;padding:16px;border-radius:12px;max-width:600px;width:95%}
.form{display:grid;gap:12px}
input,select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,.1);background:#101521;color:var(--text)}
footer{margin-top:auto;padding:20px;text-align:center;background:#0b0c0f;color:var(--muted)}
footer a{color:var(--brand);text-decoration:none}

/* سلايدر الصور داخل المودال */
.slider{position:relative;overflow:hidden;border-radius:12px;margin-bottom:12px}
.slides{display:flex;transition:transform .4s ease}
.slides img{width:100%;flex-shrink:0;border-radius:12px}
.slider button{
  position:absolute;top:50%;transform:translateY(-50%);
  background:rgba(0,0,0,.6);color:#fff;border:none;
  padding:8px;border-radius:50%;cursor:pointer
}
.slider .prev{left:8px}
.slider .next{right:8px}
.remove-btn{background:#ff4d4d;color:#fff;border:none;padding:4px 8px;border-radius:6px;cursor:pointer}
</style>
</head>
<body>

<header>
  <div class="nav">
    <div class="logo"><img id="logoImg" src="logo.png" alt="شعار المتجر"></div>
    <div class="search">
      <input id="q" class="input" placeholder="ابحث عن منتج…" />
      <button id="openCart" class="btn brand cart-btn">السلة <span id="cartCount" class="badge">0</span></button>
    </div>
  </div>
</header>

<main class="container">
  <div class="chips" id="cats"></div>
  <section class="grid" id="grid"></section>
</main>

<div id="drawer" class="drawer">
  <div class="backdrop" onclick="toggleCart(false)"></div>
  <aside class="panel">
    <div class="nav" style="padding:10px"><b>السلة</b></div>
    <div id="cartList" class="cart-list"></div>
    <div class="totals">
      <div class="row"><span>الإجمالي</span><span id="grand">0 ر.س</span></div>
      <button class="btn brand" onclick="openCheckout()" id="checkoutBtn" disabled>إتمام الشراء</button>
    </div>
  </aside>
</div>

<div class="modal" id="checkout">
  <div class="sheet">
    <form class="form">
      <select id="paymentSelect">
        <option value="تحويل بنكي">تحويل بنكي</option>
        <option value="STC Pay">STC Pay</option>
      </select>
      <div id="paymentInfo"></div>
      <button class="btn brand" type="submit">تأكيد الطلب</button>
    </form>
  </div>
</div>

<div class="modal" id="productDetail">
  <div class="sheet">
    <button class="close-btn" onclick="closeProductModal()">إغلاق</button>
    <div class="slider">
      <div class="slides" id="detailSlides"></div>
      <button class="prev" onclick="moveSlide(-1)">⬅</button>
      <button class="next" onclick="moveSlide(1)">➡</button>
    </div>
    <h2 id="detailTitle"></h2>
    <p id="detailDesc" style="opacity:.8"></p>
    <div style="margin-top:10px;font-weight:bold" id="detailPrice"></div>
    <button class="btn brand" id="detailAdd">أضف للسلة</button>
  </div>
</div>

<footer>
  <p>© 2026 دارك ستور — جميع الحقوق محفوظة</p>
  <p><a href="https://discord.com/invite/QNnGmznb99" target="_blank">الدسكورد</a></p>
</footer>

<script>
const PRODUCTS = [
  {
    id: 1,
    name: 'مود فيفا',
    price: 15,
    old: 25,
    cat: 'فيفا',
    img: 'fifa-mod.png',
    images: [
      'assets/images/products/fifa-1.png'
    ],
    desc: 'مود فيفا 26 في هذا المود تعيش الواقع اكثر مع دارك ستور بتواجد جميع درجات الدوري السعودي واضافة حقوق دوري ابطال اسيا للنخبة واضافة الدوري القطري والاماراتي والايراني والعراقي'
  },

  {
    id: 2,
    name: 'فاملي فيود',
    price: 5,
    old: 20,
    cat: 'العاب',
    img: 'assets/images/products/family-feud.png',
    images: [
      'assets/images/products/family-1.png'
    ],
    desc: 'لعبة ترفيهية ممتعة'
  },


  {
    id: 4,
    name: 'بكج دسكورد',
    price: 15,
    old: 25,
    cat: 'تصاميم',
    img: 'assets/images/products/discord-pack.png',
    images: [
      'assets/images/products/discord-1.png'
    ],
    desc: 'بكج سيرفر دسكورد شامل لتصميم وإدارة سيرفرك بسهولة.'
  }
];


const CATS=['الكل',...new Set(PRODUCTS.map(p=>p.cat))];
const state={q:'',cat:'الكل',sort:'popular',cart:[]};
let currentSlide=0;

function render(){
document.getElementById('cats').innerHTML=CATS.map(c=>`<div class="chip ${c===state.cat?'active':''}" onclick="state.cat='${c}';render()">${c}</div>`).join('');
let items=PRODUCTS.filter(p=>(state.cat==='الكل'||p.cat===state.cat)&&(!state.q||p.name.includes(state.q)));
document.getElementById('grid').innerHTML=items.map(p=>`<div class="card" onclick="openProductModal(${p.id})"><div class="media"><img src="${p.img}" alt="${p.name}"></div><div class="content"><div class="title">${p.name}</div><div class="row"><div><span class="price">${p.price} ر.س</span>${p.old?`<span class="old">${p.old} ر.س</span>`:''}</div></div></div></div>`).join('');
updateCartBadge();
}

function openProductModal(id){
const p=PRODUCTS.find(x=>x.id===id);
const slides=document.getElementById('detailSlides');
slides.innerHTML=p.images.map(src=>`<img src="${src}" alt="">`).join('');
currentSlide=0;
updateSlide();
document.getElementById('detailTitle').textContent=p.name;
document.getElementById('detailDesc').textContent=p.desc;
document.getElementById('detailPrice').textContent=p.price+' ر.س'+(p.old?` (بدل ${p.old})`:'');

document.getElementById('detailAdd').onclick=()=>{addToCart(p.id);closeProductModal();}
document.getElementById('productDetail').classList.add('open');
}

function closeProductModal(){document.getElementById('productDetail').classList.remove('open');}
function moveSlide(step){const slides=document.querySelectorAll('#detailSlides img');currentSlide=(currentSlide+step+slides.length)%slides.length;updateSlide();}
function updateSlide(){const slides=document.getElementById('detailSlides');const slideWidth=slides.offsetWidth;slides.style.transform=`translateX(-${currentSlide*slideWidth}px)`;}
function addToCart(id){const r=state.cart.find(x=>x.id===id);if(r) r.qty++; else state.cart.push({id,qty:1});renderCart();updateCartBadge();}
function removeFromCart(id){state.cart=state.cart.filter(x=>x.id!==id);renderCart();updateCartBadge();}
function renderCart(){const list=document.getElementById('cartList');if(!state.cart.length){list.innerHTML='<div>السلة فارغة</div>';document.getElementById('grand').textContent='0 ر.س';document.getElementById('checkoutBtn').disabled=true;return;}let total=0;list.innerHTML=state.cart.map(r=>{const p=PRODUCTS.find(x=>x.id===r.id);total+=p.price*r.qty;return `<div class="cart-item"><img src="${p.img}"><div>${p.name} ×${r.qty}</div><div>${p.price*r.qty} ر.س</div><button class="remove-btn" onclick="removeFromCart(${r.id})">حذف</button></div>`}).join('');document.getElementById('grand').textContent=total+' ر.س';document.getElementById('checkoutBtn').disabled=false;}
function updateCartBadge(){document.getElementById('cartCount').textContent=state.cart.reduce((s,r)=>s+r.qty,0)}
function toggleCart(open){document.getElementById('drawer').classList.toggle('open',open)}
render();
document.getElementById('q').oninput=e=>{state.q=e.target.value;render()};
document.getElementById('openCart').onclick=()=>toggleCart(true);

const paymentSelect=document.getElementById('paymentSelect');
const paymentInfo=document.getElementById('paymentInfo');
paymentSelect.addEventListener('change',updatePaymentInfo);
function updatePaymentInfo(){if(paymentSelect.value==='تحويل بنكي'){paymentInfo.innerHTML='اسم البنك: الراجحي<br>الحساب: 077010010006083300808<br>الايبان: SA02 8000 0856 6080 1330 0808<br>صوّر الإيصال وارسله واتساب 0559820067 او الدسكورد اسفل الموقع';} else if(paymentSelect.value==='STC Pay'){paymentInfo.innerHTML='حوّل على STC Pay: 0559820067<br>صوّر الإيصال وارسله واتساب 0559820067 او الدسكورد اسفل الموقع';} else {paymentInfo.innerHTML='الدفع عند الاستلام';}}
function openCheckout(){document.getElementById('checkout').classList.add('open');updatePaymentInfo();}
</script>

</body>
</html>
